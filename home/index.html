<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Hot Flash Tuning Suite</title>

<style>
:root{
  --red:#ff2b2b;
  --dark:#070707;
  --glass:rgba(0,0,0,0.55);

  /* These get updated live by JS */
  --rpmGlow: 0.65;    /* 0.2 to 1.0 */
  --rpmHue: 0deg;     /* optional if you want hue shifts later */

  --mono: ui-monospace, Consolas, monospace;
  --sans: system-ui, Segoe UI, Roboto, Arial;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:#000;color:#fff;font-family:var(--sans);overflow:hidden}

/* =======================
   BACKGROUND + OVERLAY
   ======================= */
.bg{
  position:fixed; inset:0;
  background:
    linear-gradient(rgba(255,0,0,.35), rgba(0,0,0,.86)),
    url("https://images.unsplash.com/photo-1503376780353-7e6692767b70");
  background-size:cover;
  background-position:center;
  filter:saturate(140%) contrast(115%);
  transform:scale(1);
  animation: slowZoom 30s linear infinite;
}
@keyframes slowZoom{
  from{transform:scale(1)}
  to{transform:scale(1.08)}
}

.scanlines{
  position:fixed; inset:0;
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.03),
      rgba(255,255,255,0.03) 1px,
      transparent 1px,
      transparent 3px
    );
  pointer-events:none;
}

/* =======================
   INTRO (BOOT) SCREEN
   ======================= */
.intro{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  z-index:50;
  background: radial-gradient(circle at 50% 45%, rgba(255,43,43,.18), rgba(0,0,0,.92) 60%);
  backdrop-filter: blur(2px);
  transition: opacity 800ms ease, transform 900ms ease;
}

.intro.hide{
  opacity:0;
  transform: scale(1.02);
  pointer-events:none;
}

.introCard{
  width:min(720px, 92vw);
  padding:46px 28px;
  border-radius:22px;
  background: rgba(0,0,0,0.55);
  box-shadow: 0 40px 120px rgba(0,0,0,0.85);
  border: 1px solid rgba(255,43,43,.22);
}

.introTitle{
  font-weight: 950;
  letter-spacing: 4px;
  font-size: clamp(2.1rem, 4.8vw, 3.2rem);
  color: var(--red);
  text-shadow: 0 0 35px rgba(255,43,43,0.8);
}

.introSub{
  margin-top:10px;
  font-family: var(--mono);
  letter-spacing: 1.2px;
  opacity: .85;
  font-size: .95rem;
}

.bootBarWrap{
  margin-top: 26px;
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  overflow:hidden;
  border: 1px solid rgba(255,43,43,.18);
}

.bootBar{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, rgba(255,43,43,.9), rgba(184,0,0,.9));
  box-shadow: 0 0 30px rgba(255,43,43,.7);
  border-radius: 999px;
  animation: boot 2.6s ease forwards;
}

@keyframes boot{
  0%{width:0%}
  35%{width:48%}
  60%{width:72%}
  85%{width:92%}
  100%{width:100%}
}

.bootText{
  margin-top: 14px;
  font-family: var(--mono);
  font-size: 0.85rem;
  opacity: 0.75;
  display:flex;
  justify-content:space-between;
  gap:16px;
  flex-wrap:wrap;
}

/* =======================
   MAIN CONTENT
   ======================= */
.container{
  position:relative;
  z-index:5;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.panel{
  width:min(860px, 92vw);
  background: var(--glass);
  border-radius: 22px;
  padding: 52px 60px;
  box-shadow:
    0 40px 120px rgba(0,0,0,0.85),
    0 0 calc(70px * var(--rpmGlow)) rgba(255,43,43, calc(0.22 * var(--rpmGlow)));
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,43,43, calc(0.16 * var(--rpmGlow)));
  transform: translateY(18px);
  opacity:0;
  transition: opacity 900ms ease, transform 900ms ease;
}

/* Panel becomes visible after intro */
.panel.show{
  opacity:1;
  transform: translateY(0);
}

.title{
  font-size: clamp(2.4rem, 5vw, 3.6rem);
  font-weight: 950;
  letter-spacing: 3px;
  color: var(--red);
  text-shadow:
    0 0 calc(20px * var(--rpmGlow)) rgba(255,43,43, calc(0.55 * var(--rpmGlow))),
    0 0 calc(48px * var(--rpmGlow)) rgba(255,43,43, calc(0.35 * var(--rpmGlow)));
}

.subtitle{
  margin-top: 10px;
  letter-spacing: 1px;
  opacity:.85;
}

.gauges{
  display:flex;
  justify-content:center;
  gap: 38px;
  margin: 38px 0 12px;
  flex-wrap: wrap;
}

.gaugeWrap{
  width: 165px;
}

.gaugeLabel{
  font-family: var(--mono);
  opacity:.75;
  letter-spacing: 1px;
  margin-bottom: 10px;
  font-size: .8rem;
}

.gauge{
  width: 130px;
  height: 130px;
  border-radius: 50%;
  margin: 0 auto;
  position: relative;
  background:
    radial-gradient(circle at center, rgba(20,20,20,1) 38%, rgba(0,0,0,1) 78%);
  border: 3px solid rgba(255,43,43, calc(0.65 * var(--rpmGlow) + 0.25));
  box-shadow:
    0 0 calc(18px * var(--rpmGlow)) rgba(255,43,43, calc(0.55 * var(--rpmGlow))),
    0 0 calc(44px * var(--rpmGlow)) rgba(255,43,43, calc(0.18 * var(--rpmGlow)));
}

.tickRing{
  position:absolute; inset: 9px;
  border-radius: 50%;
  background:
    conic-gradient(
      from 210deg,
      rgba(255,255,255,.12) 0deg 2deg,
      transparent 2deg 10deg
    );
  mask: radial-gradient(circle, transparent 58%, #000 59%);
  opacity:.65;
}

.needle{
  position:absolute;
  left:50%;
  top: 16px;
  width: 3px;
  height: 54px;
  background: linear-gradient(#ff6a6a, var(--red));
  transform-origin: bottom center;
  transform: translateX(-50%) rotate(-120deg);
  border-radius: 6px;
  box-shadow: 0 0 14px rgba(255,43,43,.65);
}

.centerDot{
  position:absolute;
  left:50%; top:50%;
  width: 10px; height: 10px;
  background: var(--red);
  border-radius: 50%;
  transform: translate(-50%,-50%);
  box-shadow: 0 0 18px rgba(255,43,43,.7);
}

.readout{
  margin-top: 12px;
  font-family: var(--mono);
  font-size: .86rem;
  opacity:.85;
  letter-spacing: 0.6px;
}

.miniNote{
  margin-top: 8px;
  font-family: var(--mono);
  font-size: .72rem;
  opacity:.52;
}

.enterBtn{
  margin-top: 30px;
  padding: 18px 52px;
  font-size: 1.15rem;
  font-weight: 900;
  letter-spacing: 2px;
  color: #fff;
  background: linear-gradient(135deg, #ff2b2b, #b80000);
  border: none;
  border-radius: 999px;
  cursor: pointer;
  box-shadow:
    0 0 35px rgba(255,43,43,0.7),
    0 18px 60px rgba(0,0,0,0.55);
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
}

.enterBtn:hover{
  transform: scale(1.08);
  filter: brightness(1.06);
  box-shadow:
    0 0 50px rgba(255,43,43,0.9),
    0 18px 70px rgba(0,0,0,0.62);
}

.footer{
  margin-top: 18px;
  font-size: .72rem;
  opacity:.55;
  font-family: var(--mono);
  letter-spacing: 1px;
}

/* Responsive */
@media (max-width: 600px){
  .panel{padding: 40px 22px}
  .gaugeWrap{width: 160px}
}
</style>
</head>

<body>
<div class="bg"></div>
<div class="scanlines"></div>

<!-- INTRO SCREEN -->
<div id="intro" class="intro">
  <div class="introCard">
    <div class="introTitle">HOT FLASH</div>
    <div class="introSub">TUNING SUITE â€¢ INITIALIZING CORE MODULES</div>

    <div class="bootBarWrap">
      <div class="bootBar"></div>
    </div>

    <div class="bootText">
      <span id="bootLeft">Loading UI...</span>
      <span id="bootRight">0%</span>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="container">
  <div id="panel" class="panel">
    <div class="title">HOT FLASH</div>
    <div class="subtitle">TUNING SUITE</div>

    <div class="gauges">
      <div class="gaugeWrap">
        <div class="gaugeLabel">RPM</div>
        <div class="gauge">
          <div class="tickRing"></div>
          <div id="rpmNeedle" class="needle"></div>
          <div class="centerDot"></div>
        </div>
        <div id="rpmText" class="readout">RPM: 0</div>
        <div class="miniNote">Limiter @ 7200</div>
      </div>

      <div class="gaugeWrap">
        <div class="gaugeLabel">BOOST</div>
        <div class="gauge">
          <div class="tickRing"></div>
          <div id="boostNeedle" class="needle"></div>
          <div class="centerDot"></div>
        </div>
        <div id="boostText" class="readout">BOOST: 0.0 PSI</div>
        <div class="miniNote">Spool lag + flutter</div>
      </div>

      <div class="gaugeWrap">
        <div class="gaugeLabel">AFR</div>
        <div class="gauge">
          <div class="tickRing"></div>
          <div id="afrNeedle" class="needle"></div>
          <div class="centerDot"></div>
        </div>
        <div id="afrText" class="readout">AFR: 14.7</div>
        <div class="miniNote">Rich on boost</div>
      </div>
    </div>

    <button class="enterBtn" onclick="enterSuite()">ENTER SUITE</button>

    <div class="footer">SIMULATED LIVE TELEMETRY â€¢ HOT FLASH CORE READY</div>
  </div>
</div>

<script>
/* =========================================
   EASY LINK SWAP ðŸ‘‡
   ========================================= */
const ENTER_URL = "https://example.com";

/* =========================================
   INTRO â†’ MAIN TRANSITION
   ========================================= */
const introEl = document.getElementById("intro");
const panelEl = document.getElementById("panel");
const bootLeft = document.getElementById("bootLeft");
const bootRight = document.getElementById("bootRight");

const bootLines = [
  "Loading UI...",
  "Warming sensors...",
  "Calibrating RPM input...",
  "Priming boost controller...",
  "Syncing Hot Flash Core...",
  "Ready."
];

let bootPct = 0;
let bootStep = 0;

const bootTimer = setInterval(() => {
  bootPct = Math.min(100, bootPct + (Math.random() * 14 + 6));
  bootRight.textContent = `${Math.floor(bootPct)}%`;

  if (Math.random() > 0.55 && bootStep < bootLines.length) {
    bootLeft.textContent = bootLines[bootStep++];
  }

  if (bootPct >= 100) {
    clearInterval(bootTimer);
    setTimeout(() => {
      introEl.classList.add("hide");
      panelEl.classList.add("show");
    }, 250);
  }
}, 240);

/* =========================================
   GAUGE SIM (RPM + BOOST + AFR)
   REDLINE BOUNCE + LIMITER CUT
   THEME GLOW REACTS TO RPM
   ========================================= */

/* DOM */
const rpmNeedle = document.getElementById("rpmNeedle");
const boostNeedle = document.getElementById("boostNeedle");
const afrNeedle = document.getElementById("afrNeedle");
const rpmText = document.getElementById("rpmText");
const boostText = document.getElementById("boostText");
const afrText = document.getElementById("afrText");

/* Ranges */
const RPM_MIN = 0;
const RPM_MAX = 8000;
const LIMITER = 7200;

const BOOST_MIN = -10;
const BOOST_MAX = 25;

const AFR_MIN = 10.0;  // rich
const AFR_MAX = 18.0;  // lean

/* Needle sweep angles */
const ANGLE_MIN = -120;
const ANGLE_MAX =  120;

/* State */
let rpm = 950;
let targetRPM = 1150;
let boost = -1.5;
let afr = 14.7;

let limiterCut = false;
let cutTimer = 0;

/* Helpers */
function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }
function map(v, inA, inB, outA, outB){
  return (v - inA) * (outB - outA) / (inB - inA) + outA;
}
function lerp(a,b,t){ return a + (b-a)*t; }

/* Throttle behavior: idle, blips, pulls */
setInterval(() => {
  const r = Math.random();

  if (r > 0.82) {
    // Big pull toward redline
    targetRPM = 5200 + Math.random() * 2800;
  } else if (r > 0.55) {
    // Medium rev
    targetRPM = 2200 + Math.random() * 2200;
  } else {
    // Idle wander
    targetRPM = 850 + Math.random() * 300;
  }
}, 900);

/* Main loop */
let t0 = performance.now();
function tick(now){
  const dt = Math.min(0.033, (now - t0) / 1000);
  t0 = now;

  /* Limiter logic */
  // When we go above limiter, do a quick cut (drop target + stutter)
  if (!limiterCut && rpm >= LIMITER) {
    limiterCut = true;
    cutTimer = 0.10 + Math.random() * 0.10; // 100-200ms cut
  }

  if (limiterCut) {
    cutTimer -= dt;
    // Cut: yank RPM down fast, and force target lower briefly
    targetRPM = Math.min(targetRPM, LIMITER - (700 + Math.random() * 400));
    rpm = lerp(rpm, targetRPM, 0.35);
    // Boost drops quickly on cut
    boost = lerp(boost, -2.0, 0.18);

    if (cutTimer <= 0) {
      limiterCut = false;
      // Immediately request more throttle again (bounce)
      targetRPM = LIMITER + (Math.random() * 500);
    }
  } else {
    // Normal RPM smoothing
    rpm = lerp(rpm, targetRPM, 0.06);
  }

  rpm = clamp(rpm, RPM_MIN, RPM_MAX);

  /* Redline bounce (needle oscillation near limiter) */
  const nearRedline = rpm > (LIMITER - 400);
  const bounce = nearRedline
    ? Math.sin(now * 0.03) * map(rpm, LIMITER - 400, LIMITER, 40, 110)
    : 0;

  /* Boost model: follows RPM w/ lag + flutter near redline/cut */
  const spoolBase = map(rpm, 1400, 6800, -2.0, 20.0);
  let targetBoost = clamp(spoolBase, BOOST_MIN, BOOST_MAX);

  // Add flutter when near redline or on quick changes
  const flutter = (nearRedline || limiterCut) ? (Math.sin(now * 0.08) * 1.1) : (Math.sin(now * 0.02) * 0.25);
  targetBoost += flutter;

  // Lag
  boost = lerp(boost, targetBoost, 0.04);
  boost = clamp(boost, BOOST_MIN, BOOST_MAX);

  /* AFR model: near stoich at idle/cruise, richer on boost */
  const targetAFR = clamp(
    14.7 - (Math.max(0, boost) * 0.12) + (nearRedline ? 0.2 : 0),
    AFR_MIN, AFR_MAX
  );
  afr = lerp(afr, targetAFR, 0.05);

  /* Theme reacts to RPM: glow intensity */
  const glow = clamp(map(rpm, 900, LIMITER, 0.25, 1.0), 0.20, 1.0);
  document.documentElement.style.setProperty("--rpmGlow", glow.toFixed(3));

  /* Needles */
  const rpmAngle = map(rpm, RPM_MIN, RPM_MAX, ANGLE_MIN, ANGLE_MAX) + bounce;
  const boostAngle = map(boost, BOOST_MIN, BOOST_MAX, ANGLE_MIN, ANGLE_MAX);
  const afrAngle = map(afr, AFR_MIN, AFR_MAX, ANGLE_MIN, ANGLE_MAX);

  rpmNeedle.style.transform = `translateX(-50%) rotate(${rpmAngle}deg)`;
  boostNeedle.style.transform = `translateX(-50%) rotate(${boostAngle}deg)`;
  afrNeedle.style.transform = `translateX(-50%) rotate(${afrAngle}deg)`;

  /* Text */
  rpmText.textContent = `RPM: ${Math.round(rpm)}${limiterCut ? "  (CUT)" : ""}`;
  boostText.textContent = `BOOST: ${boost.toFixed(1)} PSI`;
  afrText.textContent = `AFR: ${afr.toFixed(1)}`;

  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);

/* Enter */
function enterSuite(){
  window.location.href = ENTER_URL;
}
</script>
</body>
</html>
